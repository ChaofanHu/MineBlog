{"ast":null,"code":"import BlogHeader from \"../components/blogHeader.vue\";\nimport SecondHeader from \"../components/SecondHeader.vue\";\nimport { mavonEditor } from 'mavon-editor';\nimport '/Users/chaofanhu/Frontend/mineblog/node_modules/mavon-editor/dist/css/index.css';\nimport { RouterLink } from \"vue-router\";\nexport default {\n  components: {\n    mavonEditor,\n    BlogHeader,\n    RouterLink,\n    SecondHeader\n  },\n  data() {\n    return {\n      blog: {\n        content: \"\",\n        html: \"\"\n      },\n      blogType: null,\n      optionsBlogType: [{\n        text: 'Original',\n        value: 'original'\n      }, {\n        text: 'Citation',\n        value: 'citation'\n      }],\n      catagoryType: null,\n      catagoryTypes: [{\n        text: 'Java',\n        value: 'java'\n      }],\n      tagType: null,\n      tagTypes: [{\n        text: 'Java',\n        value: 'java'\n      }]\n    };\n  },\n  methods: {\n    change(value, render) {\n      //实时获取转成html的数据\n      this.blog.html = render;\n    },\n    $imgAdd(pos, $file) {\n      // 第一步.将图片上传到服务器.\n      var formdata = new FormData();\n      formdata.append('image', $file);\n      this.axios({\n        url: 'server url',\n        method: 'post',\n        data: formdata,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(url => {\n        // 第二步.将返回的url替换到文本原位置![...](0) -> ![...](url)\n        /**\n        * $vm 指为mavonEditor实例，可以通过如下两种方式获取\n        * 1. 通过引入对象获取: `import {mavonEditor} from ...` 等方式引入后，`$vm`为`mavonEditor`\n        * 2. 通过$refs获取: html声明ref : `<mavon-editor ref=md ></mavon-editor>，`$vm`为 `this.$refs.md`\n        */\n        mavonEditor.img2Url(pos, url);\n      });\n    }\n  }\n};","map":{"version":3,"names":["BlogHeader","SecondHeader","mavonEditor","RouterLink","components","data","blog","content","html","blogType","optionsBlogType","text","value","catagoryType","catagoryTypes","tagType","tagTypes","methods","change","render","$imgAdd","pos","$file","formdata","FormData","append","axios","url","method","headers","then","img2Url"],"sources":["src/views/blogPublishPage.vue"],"sourcesContent":["<template>\n    <div>\n            <!-- head  -->\n        <BlogHeader></BlogHeader>\n    <!-- secondary header  -->\n    <SecondHeader></SecondHeader>\n      <!-- content  -->\n      <div class=\"m-container-small m-padding-tb-big\">\n        <div class=\"ui container\">\n            <sui-form>\n                <sui-form-fields>\n\n                    <sui-form-field width=\"four\">\n                        <label>Type</label>\n                        <sui-form-fields>\n                            <sui-form-field>\n                                <sui-dropdown\n                                placeholder=\"Original\"\n                                selection\n                                :options=\"optionsBlogType\"\n                                v-model=\"blogType\"\n                                />\n                            </sui-form-field>\n                        </sui-form-fields>\n                    </sui-form-field>\n                    <sui-form-field width=\"twelve\" >\n                        <label>Title</label>\n                        <input type=\"text\" name=\"title\" placeholder=\"Please input title\" />\n                    </sui-form-field>\n                </sui-form-fields>\n                <sui-form-field>\n                    <mavon-editor \n                        v-model=\"blog.content\" \n                        ref=\"md\" \n                        @change=\"change\"\n                        @imgAdd=\"$imgAdd\" \n                        @imgDel=\"$imgDel\"\n                        :ishljs=\"true\" \n                        style=\"min-height: 600px\"\n                    />\n                    <!-- <textarea v-model=\"content\" name=\"content\" placeholder=\"Content\" rows=\"20\" cols=\"50\" style=\"display:none;\"></textarea> -->\n                </sui-form-field>\n\n                <sui-divider hidden />\n\n                <sui-form-fields fields=\"two\">\n                    <sui-form-field >\n                       <label for=\"\">Catagory</label>\n                        <sui-dropdown\n                        placeholder=\"Catogory\"\n                        selection\n                        :options=\"catagoryTypes\"\n                        v-model=\"catagoryType\"\n                        />\n                    </sui-form-field>\n                    <sui-form-field >\n                        <label for=\"\">Tags</label>\n                        <sui-dropdown\n                        :options=\"tagTypes\"\n                        placeholder=\"Tags\"\n                        search\n                        selection\n                        v-model=\"tagType\"\n                        />\n                    </sui-form-field>\n                </sui-form-fields>\n\n                <sui-divider hidden />\n\n                <sui-form-field width=\"sixteen\">\n                    <label>Picture</label>\n                    <input type=\"text\" name=\"\" id=\"\" placeholder=\"URL\">\n                </sui-form-field>\n\n                <!-- <sui-button-group color=\"blue\">\n                    <sui-button content=\"One\" />\n                    <sui-button content=\"Two\" />\n                    <sui-button content=\"Three\" />\n                </sui-button-group> -->\n            </sui-form>\n            \n            <sui-divider hidden />\n\n            <div class=\"ui right aligned container\">\n                    <button type=\"button\" class=\"ui white button\"><RouterLink to=\"/blogManPage\">Back</RouterLink>></button>\n                    <button class=\"ui secondary button\">Save</button>\n                    <button class=\"ui teal button\" >Establish</button>\n            </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport BlogHeader from \"../components/blogHeader.vue\"\nimport SecondHeader from \"../components/SecondHeader.vue\"\nimport { mavonEditor } from 'mavon-editor'\nimport '/Users/chaofanhu/Frontend/mineblog/node_modules/mavon-editor/dist/css/index.css'\nimport { RouterLink } from \"vue-router\"\n\nexport default{\n    components:{\n    mavonEditor,\n    BlogHeader,\n    RouterLink,\n    SecondHeader\n},\n    data () {\n        return{\n            blog:{\n                content:\"\",\n                html:\"\"\n            },\n            blogType:null,\n            optionsBlogType:[\n                { text: 'Original', value: 'original'},\n                { text: 'Citation', value: 'citation'},\n\n            ],\n            catagoryType: null,\n            catagoryTypes:[\n                {text: 'Java', value: 'java'}\n            ],\n            tagType: null,\n            tagTypes:[\n                {text: 'Java', value: 'java'}\n            ]\n        }\n    },\n    methods:{\n        change(value, render) {\n            //实时获取转成html的数据\n            this.blog.html = render\n        },\n        $imgAdd(pos, $file){\n            // 第一步.将图片上传到服务器.\n           var formdata = new FormData();\n           formdata.append('image', $file);\n           this.axios({\n               url: 'server url',\n               method: 'post',\n               data: formdata,\n               headers: { 'Content-Type': 'multipart/form-data' },\n           }).then((url) => {\n               // 第二步.将返回的url替换到文本原位置![...](0) -> ![...](url)\n               /**\n               * $vm 指为mavonEditor实例，可以通过如下两种方式获取\n               * 1. 通过引入对象获取: `import {mavonEditor} from ...` 等方式引入后，`$vm`为`mavonEditor`\n               * 2. 通过$refs获取: html声明ref : `<mavon-editor ref=md ></mavon-editor>，`$vm`为 `this.$refs.md`\n               */\n               mavonEditor.img2Url(pos, url);\n           })\n        }\n    }\n}\n</script>"],"mappings":"AA8FA,OAAAA,UAAA;AACA,OAAAC,YAAA;AACA,SAAAC,WAAA;AACA;AACA,SAAAC,UAAA;AAEA;EACAC,UAAA;IACAF,WAAA;IACAF,UAAA;IACAG,UAAA;IACAF;EACA;EACAI,KAAA;IACA;MACAC,IAAA;QACAC,OAAA;QACAC,IAAA;MACA;MACAC,QAAA;MACAC,eAAA,GACA;QAAAC,IAAA;QAAAC,KAAA;MAAA,GACA;QAAAD,IAAA;QAAAC,KAAA;MAAA,EAEA;MACAC,YAAA;MACAC,aAAA,GACA;QAAAH,IAAA;QAAAC,KAAA;MAAA,EACA;MACAG,OAAA;MACAC,QAAA,GACA;QAAAL,IAAA;QAAAC,KAAA;MAAA;IAEA;EACA;EACAK,OAAA;IACAC,OAAAN,KAAA,EAAAO,MAAA;MACA;MACA,KAAAb,IAAA,CAAAE,IAAA,GAAAW,MAAA;IACA;IACAC,QAAAC,GAAA,EAAAC,KAAA;MACA;MACA,IAAAC,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,UAAAH,KAAA;MACA,KAAAI,KAAA;QACAC,GAAA;QACAC,MAAA;QACAvB,IAAA,EAAAkB,QAAA;QACAM,OAAA;UAAA;QAAA;MACA,GAAAC,IAAA,CAAAH,GAAA;QACA;QACA;AACA;AACA;AACA;AACA;QACAzB,WAAA,CAAA6B,OAAA,CAAAV,GAAA,EAAAM,GAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}