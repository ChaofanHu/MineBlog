{"ast":null,"code":"import BlogHeader from \"../components/blogHeader.vue\";\nimport SecondHeader from \"../components/SecondHeader.vue\";\nimport { RouterLink } from \"vue-router\";\nimport { mavonEditor } from 'mavon-editor';\nimport '/Users/chaofanhu/Frontend/mineblog/node_modules/mavon-editor/dist/css/index.css';\nexport default {\n  components: {\n    BlogHeader,\n    RouterLink,\n    SecondHeader,\n    mavonEditor\n  },\n  data() {\n    return {\n      blog: {\n        title: \"\",\n        typeId: \"\",\n        content: \"\"\n      },\n      blogType: null,\n      optionsBlogType: [],\n      catagoryType: null,\n      catagoryTypes: [],\n      tagType: null,\n      tagTypes: []\n    };\n  },\n  methods: {\n    // change(value, render) {\n    //     //实时获取转成html的数据\n    //     this.blog.html = render\n    // },\n    async $imgAdd(pos, $file) {\n      var _this = this;\n      console.log(pos, $file);\n      let formdata = new FormData();\n      formdata.append(\"file\", $file);\n      let result = await this.axios.post(this.API.UPLOAD_API, formdata);\n      if (result.status === \"SUCCESS\") {\n        var url = result.result; //取出上传成功后的url\n        console.log(this.$refs.md);\n        this.$refs.md.$img2Url(pos, url);\n        this.html = _this.$refs.md.d_render;\n        this.markdown = _this.$refs.md.d_value;\n      }\n    },\n    getAllType() {\n      const _this = this;\n      this.axios.get(\"localhost:8090/admin/selectAllCategory\").then(function (resp) {\n        _this.catagoryTypes = resp.data;\n      });\n    }\n  },\n  created: {}\n};","map":{"version":3,"names":["BlogHeader","SecondHeader","RouterLink","mavonEditor","components","data","blog","title","typeId","content","blogType","optionsBlogType","catagoryType","catagoryTypes","tagType","tagTypes","methods","$imgAdd","pos","$file","_this","console","log","formdata","FormData","append","result","axios","post","API","UPLOAD_API","status","url","$refs","md","$img2Url","html","d_render","markdown","d_value","getAllType","get","then","resp","created"],"sources":["src/views/blogPublishPage.vue"],"sourcesContent":["<template>\n    <div>\n            <!-- head  -->\n        <BlogHeader></BlogHeader>\n    <!-- secondary header  -->\n    <SecondHeader></SecondHeader>\n      <!-- content  -->\n      <div class=\"m-container-small m-padding-tb-big\">\n        <div class=\"ui container\">\n            <sui-form>\n                <sui-form-fields>\n\n                    <sui-form-field width=\"four\">\n                        <label>Type</label>\n                        <sui-form-fields>\n                            <sui-form-field>\n                                <sui-dropdown\n                                placeholder=\"Original\"\n                                selection\n                                :options=\"optionsBlogType\"\n                                v-model=\"blogType\"\n                                />\n                            </sui-form-field>\n                        </sui-form-fields>\n                    </sui-form-field>\n                    <sui-form-field width=\"twelve\" >\n                        <label>Title</label>\n                        <input type=\"text\" name=\"title\" placeholder=\"Please input title\" />\n                    </sui-form-field>\n                </sui-form-fields>\n                <sui-form-field>\n\n                        <mavonEditor v-model=\"blog.content\"\n                            ref=\"md\"\n                            placeholder=\"请输入文档内容...\" \n                            \n                            @imgAdd=\"$imgAdd\"\n                            />\n\n                    <!-- <textarea v-model=\"content\" name=\"content\" placeholder=\"Content\" rows=\"20\" cols=\"50\" style=\"display:none;\"></textarea> -->\n                </sui-form-field>\n\n                <sui-divider hidden />\n\n                <sui-form-fields fields=\"two\">\n                    <sui-form-field >\n                       <label for=\"\">Catagory</label>\n                        <sui-dropdown\n                        placeholder=\"Catogory\"\n                        selection\n                        :options=\"catagoryTypes\"\n                        v-model=\"blog.typeId\"\n                        />\n                    </sui-form-field>\n                    <sui-form-field >\n                        <label for=\"\">Tags</label>\n                        <sui-dropdown\n                        :options=\"tagTypes\"\n                        placeholder=\"Tags\"\n                        search\n                        selection\n                        v-model=\"tagType\"\n                        />\n                    </sui-form-field>\n                </sui-form-fields>\n\n                <sui-divider hidden />\n\n                <sui-form-field width=\"sixteen\">\n                    <label>Picture</label>\n                    <input type=\"text\" name=\"\" id=\"\" placeholder=\"URL\">\n                </sui-form-field>\n\n                <!-- <sui-button-group color=\"blue\">\n                    <sui-button content=\"One\" />\n                    <sui-button content=\"Two\" />\n                    <sui-button content=\"Three\" />\n                </sui-button-group> -->\n            </sui-form>\n            \n            <sui-divider hidden />\n\n            <div class=\"ui right aligned container\">\n                    <button type=\"button\" class=\"ui white button\"><RouterLink to=\"/blogManPage\">Back</RouterLink>></button>\n                    <button class=\"ui secondary button\">Save</button>\n                    <button class=\"ui teal button\" >Establish</button>\n            </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script>\nimport BlogHeader from \"../components/blogHeader.vue\"\nimport SecondHeader from \"../components/SecondHeader.vue\"\nimport { RouterLink } from \"vue-router\"\nimport { mavonEditor } from 'mavon-editor'\nimport '/Users/chaofanhu/Frontend/mineblog/node_modules/mavon-editor/dist/css/index.css'\n\nexport default{\n    components:{\n    BlogHeader,\n    RouterLink,\n    SecondHeader,\n    mavonEditor\n},\n    data () {\n        return{\n            blog:{\n                title:\"\",\n                typeId:\"\",\n                content:\"\"\n            },\n\n            blogType:null,\n            optionsBlogType:[],\n\n            catagoryType: null,\n            catagoryTypes:[],\n    \n            tagType: null,\n            tagTypes:[]\n        }\n    },\n    methods:{\n        // change(value, render) {\n        //     //实时获取转成html的数据\n        //     this.blog.html = render\n        // },\n        async $imgAdd(pos, $file) {\n            var _this = this;\n            console.log(pos, $file);\n            let formdata = new FormData();\n            formdata.append(\"file\", $file);\n            let result = await this.axios.post(this.API.UPLOAD_API, formdata);\n                if (result.status === \"SUCCESS\") {\n                    var url = result.result; //取出上传成功后的url\n                    console.log(this.$refs.md);\n                    this.$refs.md.$img2Url(pos, url);\n                    this.html = _this.$refs.md.d_render;\n                    this.markdown = _this.$refs.md.d_value;\n                }\n        },\n        getAllType(){\n            const _this = this;\n            this.axios.get(\"localhost:8090/admin/selectAllCategory\")\n            .then(function(resp){\n                _this.catagoryTypes = resp.data;\n            })\n        }\n    },\n    created:{\n\n    }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":"AA6FA,OAAAA,UAAA;AACA,OAAAC,YAAA;AACA,SAAAC,UAAA;AACA,SAAAC,WAAA;AACA;AAEA;EACAC,UAAA;IACAJ,UAAA;IACAE,UAAA;IACAD,YAAA;IACAE;EACA;EACAE,KAAA;IACA;MACAC,IAAA;QACAC,KAAA;QACAC,MAAA;QACAC,OAAA;MACA;MAEAC,QAAA;MACAC,eAAA;MAEAC,YAAA;MACAC,aAAA;MAEAC,OAAA;MACAC,QAAA;IACA;EACA;EACAC,OAAA;IACA;IACA;IACA;IACA;IACA,MAAAC,QAAAC,GAAA,EAAAC,KAAA;MACA,IAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAJ,GAAA,EAAAC,KAAA;MACA,IAAAI,QAAA,OAAAC,QAAA;MACAD,QAAA,CAAAE,MAAA,SAAAN,KAAA;MACA,IAAAO,MAAA,cAAAC,KAAA,CAAAC,IAAA,MAAAC,GAAA,CAAAC,UAAA,EAAAP,QAAA;MACA,IAAAG,MAAA,CAAAK,MAAA;QACA,IAAAC,GAAA,GAAAN,MAAA,CAAAA,MAAA;QACAL,OAAA,CAAAC,GAAA,MAAAW,KAAA,CAAAC,EAAA;QACA,KAAAD,KAAA,CAAAC,EAAA,CAAAC,QAAA,CAAAjB,GAAA,EAAAc,GAAA;QACA,KAAAI,IAAA,GAAAhB,KAAA,CAAAa,KAAA,CAAAC,EAAA,CAAAG,QAAA;QACA,KAAAC,QAAA,GAAAlB,KAAA,CAAAa,KAAA,CAAAC,EAAA,CAAAK,OAAA;MACA;IACA;IACAC,WAAA;MACA,MAAApB,KAAA;MACA,KAAAO,KAAA,CAAAc,GAAA,2CACAC,IAAA,WAAAC,IAAA;QACAvB,KAAA,CAAAP,aAAA,GAAA8B,IAAA,CAAAtC,IAAA;MACA;IACA;EACA;EACAuC,OAAA,GAEA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}