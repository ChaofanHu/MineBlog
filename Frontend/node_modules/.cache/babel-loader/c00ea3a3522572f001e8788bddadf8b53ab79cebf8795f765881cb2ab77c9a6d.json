{"ast":null,"code":"import BlogHeader from \"../components/blogHeader.vue\";\nimport SecondHeader from \"../components/SecondHeader.vue\";\nexport default {\n  components: {\n    BlogHeader,\n    SecondHeader\n  },\n  data() {\n    return {\n      Title: \"\",\n      Catagory: null,\n      Date: null,\n      optionsCatagory: [{\n        text: 'Backend',\n        value: 1\n      }, {\n        text: 'Frontend',\n        value: 2\n      }, {\n        text: 'DAO',\n        value: 3\n      }, {\n        text: 'BUGS',\n        value: 4\n      }],\n      // 假设这是后台传来的数据来源\n      //    data:[],\n      data: [\n        // {Id:1,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:2,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:3,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:4,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:5,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:6,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:7,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:8,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"}\n      ],\n      // 所有页面的数据\n      totalPage: [],\n      // 每页显示数量\n      pageSize: 5,\n      // 共几页\n      pageNum: 1,\n      // 当前显示的数据\n      dataShow: \"\",\n      // 默认当前显示第一页\n      currentPage: 0\n    };\n  },\n  created() {\n    this.selectAll();\n  },\n  methods: {\n    //get all blogs \n    dividePage() {\n      this.pageNum = Math.ceil(this.data.length / this.pageSize) || 1; //计算有多少页数据，默认为1\n      // 循环页面\n      for (let i = 0; i < this.pageNum; i++) {\n        // 每一页都是一个数组 形如 [['第一页的数据'],['第二页的数据'],['第三页数据']]\n        // 根据每页显示数量 将后台的数据分割到 每一页,假设pageSize为2， 则第一页是1-2条，即slice(0,2)，第二页是3-4条，即slice(3,4)以此类推\n        this.totalPage[i] = this.data.slice(this.pageSize * i, this.pageSize * (i + 1));\n      }\n      // 获取到数据后默认显示第一页内容\n      this.dataShow = this.totalPage[this.currentPage];\n    },\n    selectAll() {\n      var _this = this;\n      this.axios.get(\"http://localhost:8090/admin/getAllBlogs\"\n      // ,{\n      //     headers: {\n      //         'Content-Type': 'application/json',\n      //         'token': localStorage.getItem('token')\n      //     }\n      // }\n      ).then(function (resp) {\n        _this.data = resp.data;\n        _this.dividePage();\n        console.log(_this.data);\n      });\n    },\n    // 下一页\n    nextPage() {\n      if (this.currentPage === this.pageNum - 1) return;\n      this.dataShow = this.totalPage[++this.currentPage];\n    },\n    // 上一页\n    prePage() {\n      if (this.currentPage === 0) return;\n      this.dataShow = this.totalPage[--this.currentPage];\n    }\n  }\n};","map":{"version":3,"names":["BlogHeader","SecondHeader","components","data","Title","Catagory","Date","optionsCatagory","text","value","totalPage","pageSize","pageNum","dataShow","currentPage","created","selectAll","methods","dividePage","Math","ceil","length","i","slice","_this","axios","get","then","resp","console","log","nextPage","prePage"],"sources":["src/views/blogManPage.vue"],"sourcesContent":["<template>\n    <div>\n            <!-- head  -->\n        <BlogHeader></BlogHeader>\n    <!-- secondary header  -->\n        <SecondHeader></SecondHeader>\n        <!-- <SecondHeader></SecondHeader> -->\n\n    <!-- content  -->\n    <div class=\"m-container-small m-padding-tb\">\n        <div class=\"ui container\">\n            <sui-form>\n                <sui-header dividing>Search</sui-header>\n                <sui-form-fields fields=\"three\">\n                    <sui-form-field>\n                    <input\n                        type=\"text\"\n                        name=\"shipping[first-name]x\"\n                        placeholder=\"Title\"\n                        v-model=\"Title\"\n                    />\n                    </sui-form-field>\n                    <sui-form-field>\n                    <sui-dropdown\n                        placeholder=\"Catagory\"\n                        selection\n                        :options=\"optionsCatagory\"\n                        v-model=\"Catagory\"\n                        />\n                    </sui-form-field>\n                 \n                        <sui-button color=\"teal\" type=\"submit\" >Search</sui-button>\n\n                    \n                </sui-form-fields>\n                \n             </sui-form>\n            \n        \n            <table class=\"ui celled table\">\n                <thead>\n                    <tr><th>Title</th>\n                    <th>Catagory</th>\n                    <th>Date</th>\n                    <th>Operation</th>\n                </tr></thead>\n                <tbody>\n                    <tr v-for=\"blog in dataShow\" :key=\"blog.id\">\n                        <td data-label=\"Title\">{{blog.title}}</td>\n                        <td data-label=\"Catagory\">{{ blog.typeId }}</td>\n                        <td data-label=\"Date\">{{ blog.createTime }}</td>\n                        <td data-label=\"Operation\"><a href=\"\" class=\"ui mini teal button\">Edit</a><a href=\"\" class=\"ui mini teal button\">Delete</a></td>\n                    </tr>\n                    {{ dataShow }}\n                </tbody>\n                <tfoot>\n                    <tr><th colspan=\"5\">\n                        <div class=\"ui right floated pagination menu\">\n                            <a class=\"icon item\">\n                            <i class=\"left chevron icon\" @click=\"prePage\"></i>\n                            </a>\n                         \n                            <a class=\"icon item\">\n                            <i class=\"right chevron icon\" @click=\"nextPage\"></i>\n                            </a>\n                        </div>\n                        <a href=\"\" class=\"ui mini floating teal basic button\">Add</a>\n                        </th>\n                    </tr>\n                </tfoot>\n            </table>\n        </div>\n    </div>\n\n        <!-- bottom -->\n        <footer class=\"ui inverted vertical segment m-padding-tb-massive\">\n            <div class=\"ui center aligned container\">\n                <div class=\"ui stackable inverted divided grid\">\n                    <div class=\"three wide column\">\n                        <div class=\"ui inverted link list\">\n                            <div class=\"item\">\n                                <img src=\"\" alt=\"\"  class=\"ui rounded image\" style=\"height: auto;\">\n                            </div>\n                        </div>     \n                    </div>\n                    <div class=\"three wide column\">\n                        <p></p>\n                        <h4 class=\"ui inverted header\">New Blog</h4>\n                        <div class=\"ui inverted link list\">\n                            <a href=\"\" class=\"item\">User Blog</a>\n                            <a href=\"\" class=\"item\">User Blog</a>\n                            <a href=\"\" class=\"item\">User Blog</a>\n                        </div>\n                    </div>\n                    <div class=\"three wide column\">\n                        <p></p>\n                        <h4 class=\"ui inverted header\">New Blog</h4>\n                        <div class=\"ui inverted link list\">\n                            <a href=\"\" class=\"item\">User Blog</a>\n                            <a href=\"\" class=\"item\">User Blog</a>\n                            <a href=\"\" class=\"item\">User Blog</a>\n                        </div>\n                    </div>\n                    <div class=\"seven wide column\">\n                        <p></p>\n                        <h4 class=\"ui inverted header\" >Hello World</h4>\n                        <p>hellooooooooooo</p>\n                    </div>\n                </div>\n            </div>\n            <!-- the bottom line -->\n            <div class=\"ui inverted section divider\"></div>\n            <div class=\"ui center aligned container\">\n                <p class=\"m-text-thin m-text-spaced m-opacity-mini\">Copyright © 2023 MineBlog Designed by Chaofan</p>\n            </div>\n        </footer>\n    </div>\n    \n</template>\n\n<script>\nimport BlogHeader from \"../components/blogHeader.vue\";\nimport SecondHeader from \"../components/SecondHeader.vue\"\nexport default {\n    components:{\n        BlogHeader,\n        SecondHeader,\n    },\n   data() {\n    return {\n        Title:\"\",\n        Catagory: null,\n        Date: null,\n        optionsCatagory: [\n        {\n          text: 'Backend',\n          value: 1,\n        },\n        {\n          text: 'Frontend',\n          value: 2,\n        },\n        {\n          text: 'DAO',\n          value: 3,\n        },\n        {\n          text: 'BUGS',\n          value: 4,\n        }\n    ],\n       // 假设这是后台传来的数据来源\n    //    data:[],\n        data: [\n        // {Id:1,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:2,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:3,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:4,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:5,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:6,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:7,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"},\n        // {Id:8,Title:\"Java\",Catagory:\"Backend\",Date:\"2022-02-02\"}\n       ],\n      // 所有页面的数据\n      totalPage: [],\n      // 每页显示数量\n      pageSize: 5,\n      // 共几页\n      pageNum: 1,\n      // 当前显示的数据\n      dataShow: \"\",\n      // 默认当前显示第一页\n      currentPage: 0\n    };\n    },\n    created(){\n        this.selectAll();\n    },\n    methods:{\n        //get all blogs \n        dividePage(){\n            this.pageNum = Math.ceil(this.data.length / this.pageSize) || 1;//计算有多少页数据，默认为1\n            // 循环页面\n            for (let i = 0; i < this.pageNum; i++) {\n            // 每一页都是一个数组 形如 [['第一页的数据'],['第二页的数据'],['第三页数据']]\n            // 根据每页显示数量 将后台的数据分割到 每一页,假设pageSize为2， 则第一页是1-2条，即slice(0,2)，第二页是3-4条，即slice(3,4)以此类推\n            this.totalPage[i] = this.data.slice(this.pageSize * i, this.pageSize * (i + 1))\n            }\n            // 获取到数据后默认显示第一页内容\n            this.dataShow = this.totalPage[this.currentPage];\n        },\n        selectAll(){\n            var _this = this\n            this.axios.get(\"http://localhost:8090/admin/getAllBlogs\"\n            // ,{\n            //     headers: {\n            //         'Content-Type': 'application/json',\n            //         'token': localStorage.getItem('token')\n            //     }\n            // }\n            )\n            .then(function(resp){\n                _this.data = resp.data;\n                _this.dividePage();\n                console.log(_this.data)\n            })\n            \n        },\n        // 下一页\n        nextPage() {\n        if (this.currentPage === this.pageNum - 1) return ;\n            this.dataShow = this.totalPage[++this.currentPage];\n        },\n        // 上一页\n        prePage() {\n            if (this.currentPage === 0) return ;\n              this.dataShow = this.totalPage[--this.currentPage];\n            }\n    }\n};\n</script>\n\n<style>\n@import \"../assets/css/me.css\";\n</style>"],"mappings":"AAyHA,OAAAA,UAAA;AACA,OAAAC,YAAA;AACA;EACAC,UAAA;IACAF,UAAA;IACAC;EACA;EACAE,KAAA;IACA;MACAC,KAAA;MACAC,QAAA;MACAC,IAAA;MACAC,eAAA,GACA;QACAC,IAAA;QACAC,KAAA;MACA,GACA;QACAD,IAAA;QACAC,KAAA;MACA,GACA;QACAD,IAAA;QACAC,KAAA;MACA,GACA;QACAD,IAAA;QACAC,KAAA;MACA,EACA;MACA;MACA;MACAN,IAAA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA,CACA;MACA;MACAO,SAAA;MACA;MACAC,QAAA;MACA;MACAC,OAAA;MACA;MACAC,QAAA;MACA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;EACA;EACAC,OAAA;IACA;IACAC,WAAA;MACA,KAAAN,OAAA,GAAAO,IAAA,CAAAC,IAAA,MAAAjB,IAAA,CAAAkB,MAAA,QAAAV,QAAA;MACA;MACA,SAAAW,CAAA,MAAAA,CAAA,QAAAV,OAAA,EAAAU,CAAA;QACA;QACA;QACA,KAAAZ,SAAA,CAAAY,CAAA,SAAAnB,IAAA,CAAAoB,KAAA,MAAAZ,QAAA,GAAAW,CAAA,OAAAX,QAAA,IAAAW,CAAA;MACA;MACA;MACA,KAAAT,QAAA,QAAAH,SAAA,MAAAI,WAAA;IACA;IACAE,UAAA;MACA,IAAAQ,KAAA;MACA,KAAAC,KAAA,CAAAC,GAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA,EACAC,IAAA,WAAAC,IAAA;QACAJ,KAAA,CAAArB,IAAA,GAAAyB,IAAA,CAAAzB,IAAA;QACAqB,KAAA,CAAAN,UAAA;QACAW,OAAA,CAAAC,GAAA,CAAAN,KAAA,CAAArB,IAAA;MACA;IAEA;IACA;IACA4B,SAAA;MACA,SAAAjB,WAAA,UAAAF,OAAA;MACA,KAAAC,QAAA,QAAAH,SAAA,QAAAI,WAAA;IACA;IACA;IACAkB,QAAA;MACA,SAAAlB,WAAA;MACA,KAAAD,QAAA,QAAAH,SAAA,QAAAI,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}